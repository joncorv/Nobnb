{% extends "base.html" %}

{% block title %} Nobnb Listing Detail{% endblock title %}

{% block content %}

    <!-- Listing Title and 2 Buttons -->
    <div id="title_share_save_container" class=" max-w-screen-xl flex flex-row w-full justify-between mx-auto  px-4 py-2 gap-6">
        <h1 class="justify-start text-3xl font-medium text-gray-900 lg:text-2xl">{{ listing.name }}</h1>
        <div class="justify-end items-center">
            <!-- Share Button -->
            <button id="share_btn" type="button" class="text-gray-800 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium underline rounded-lg text-sm px-3 py-2 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
                <svg class="w-5 h-5 mr-2 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 15v2a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3v-2M12 4v12m0-12 4 4m-4-4L8 8"/>
                </svg>
                Share
            </button>

            <!-- Save Button -->
            <button id="share_btn" type="button" class="text-gray-800 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium underline rounded-lg text-sm px-3 py-2 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
                <svg class="w-5 h-5 mr-2 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12.01 6.001C6.5 1 1 8 5.782 13.001L12.011 20l6.23-7C23 8 17.5 1 12.01 6.002Z"/>
                </svg>
                Save
            </button>
        </div>
    </div>


    <!-- Photo Collage -->
    <div class="max-w-screen-xl mx-auto px-4 py-2">
        <!-- Photo Collage Container with rounded corners -->
        <div id="photo_collage" class="grid grid-cols-4 gap-2 rounded-xl overflow-hidden h-[50vh] max-h-[500px] min-h-[375px]">
            <!-- Large Main Image (Left Side) - no rounded corners on individual images -->
            <div id="photo_1" class="col-span-2 row-span-2 overflow-hidden">
                <img src="{{ (listing.listing_images.all())[0].image_lg.url }}" alt="Beachfront property exterior" class="w-full h-full object-cover">
            </div>

            <!-- Top Right Images - no rounded corners on individual images -->
            <div id="photo_2" class="col-span-1 overflow-hidden">
                <img src="{{ (listing.listing_images.all())[1].image_lg.url }}" alt="Property deck view" class="w-full h-full object-cover">
            </div>
            <div id="photo_3" class="col-span-1 overflow-hidden">
                <img src="{{ (listing.listing_images.all())[2].image_lg.url }}" alt="Bedroom interior" class="w-full h-full object-cover">
            </div>

            <!-- Bottom Right Images - no rounded corners on individual images -->
            <div id="photo_4" class="col-span-1 overflow-hidden">
                <img src="{{ (listing.listing_images.all())[3].image_lg.url }}" alt="Beach view" class="w-full h-full object-cover">
            </div>
            <div id="photo_5" class="col-span-1 overflow-hidden">
                <img src="{{ (listing.listing_images.all())[4].image_lg.url }}" alt="Living area" class="w-full h-full object-cover">
            </div>
        </div>
    </div>

    <!-- Property Info and Booking Container -->
    <div class="max-w-screen-xl mx-auto px-4 py-6">
        <div class="flex flex-col lg:flex-row gap-12">
            <!-- Left Column - Property Details -->
            <div class="flex-1">
                <!-- Property Title and Info -->
                <h2 class="text-2xl font-medium mb-1">Entire rental unit in {{ listing.city }}, {{ listing.state_or_province }}</h2>
                <p class="text-gray-700 mb-6">4 guests 路 1 bedroom 路 2 beds 路 1 bath</p>

                <!-- Rating and Reviews Section -->
                <div class="border rounded-xl p-6 mb-8 flex justify-between items-center">
                    <div class="flex items-center gap-6">
                        <div class="flex items-center">
                            <svg class="w-10 h-10 text-gray-800" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8.5V3M8.5 7.5 4.7 3.8M15.5 7.5l3.8-3.7M20 12h-5.5M3.8 12h5.7M4 20l3-3M16.8 17l3.3 3M12 21v-8"/>
                            </svg>
                            <div class="ml-2">
                                <div class="font-medium">Guest</div>
                                <div class="font-medium">favorite</div>
                            </div>
                        </div>
                        <div>
                            <p class="font-medium">One of the most loved homes on</p>
                            <p class="font-medium">Zombnb, according to guests</p>
                        </div>
                    </div>
                    <div class="flex items-center gap-8">
                        <div class="text-center">
                            <div class="text-3xl font-medium">4.93</div>
                            <div class="flex text-yellow-500">
                                <svg class="w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 22 20">
                                    <path d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"/>
                                </svg>
                                <svg class="w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 22 20">
                                    <path d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"/>
                                </svg>
                                <svg class="w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 22 20">
                                    <path d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"/>
                                </svg>
                                <svg class="w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 22 20">
                                    <path d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"/>
                                </svg>
                                <svg class="w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 22 20">
                                    <path d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"/>
                                </svg>
                            </div>
                        </div>
                        <div class="text-center">
                            <div class="text-3xl font-medium">142</div>
                            <div class="text-gray-700">Reviews</div>
                        </div>
                    </div>
                </div>

                <!-- Host Information -->
                <div class="flex items-center py-6 border-t border-b mb-6">
                    <div class="w-12 h-12 bg-gray-200 rounded-full overflow-hidden mr-4 flex items-center justify-center">
                        <span class="text-2xl">SA</span>
                    </div>
                    <div>
                        <h2 class="font-medium text-lg">Hosted by {{ listing.creator.first_name }} {{ listing.creator.last_name }}</h2>
                        <p class="text-gray-600">Superhost 路 9 years hosting</p>
                    </div>
                </div>

                <!-- Amenities List -->
                <div class="space-y-6 mb-8">
                    <div class="flex items-center">
                        <div class="w-10 flex-shrink-0">
                            <svg class="w-6 h-6 text-gray-800" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.7 10.781a6.3 6.3 0 1 1 12.6 0c0 3.813-2.65 5.43-3.8 6.54a4.886 4.886 0 0 0-1.55 3.683h-1.9c0-1.512-.542-2.97-1.55-3.684-1.15-1.109-3.8-2.726-3.8-6.539Zm4.3 10.223h4"/>
                            </svg>
                        </div>
                        <div>
                            <h3 class="font-medium">6-min walk to the beach</h3>
                            <p class="text-gray-600">This home is by Carbon Beach.</p>
                        </div>
                    </div>
                    <div class="flex items-center">
                        <div class="w-10 flex-shrink-0">
                            <svg class="w-6 h-6 text-gray-800" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.5 8V4.5a3.5 3.5 0 1 0-7 0V8M8 12.167v3M12 12.167v3M16 12.167v3m-10-7.334h12c.667 0 2 .4 2 2v9.167H4V9.833c0-1.6 1.333-2 2-2Z"/>
                            </svg>
                        </div>
                        <div>
                            <h3 class="font-medium">Self check-in</h3>
                            <p class="text-gray-600">Check yourself in with the smartlock.</p>
                        </div>
                    </div>
                    <div class="flex items-center">
                        <div class="w-10 flex-shrink-0">
                            <svg class="w-6 h-6 text-gray-800" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 11h2v5m-2 0h4m-2.592-8.5h.01M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                            </svg>
                        </div>
                        <div>
                            <h3 class="font-medium">Free cancellation for 24 hours</h3>
                            <p class="text-gray-600">Get a full refund if you change your mind.</p>
                        </div>
                    </div>
                </div>

                <!-- Property Description -->
                <div class="mb-8">
                    <p class="text-gray-800 mb-4">
	                    {{ listing.description }}
                    </p>
                    <button class="flex items-center font-medium">
                        Show more
                        <svg class="w-4 h-4 ml-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 5 7 7-7 7"/>
                        </svg>
                    </button>
                </div>

                <hr class="my-8">
            </div>

            <!-- Right Column - Booking Section -->
            <div class="lg:w-[380px] shrink-0">
                <div class="border rounded-xl p-6 shadow-lg sticky top-6">
                    <!-- Price Section -->
                    <div class="flex items-baseline mb-6">
                        <span class="text-xl font-medium line-through text-gray-400">$2,641</span>
                        <span class="text-2xl font-bold ml-2">$2,387</span>
                        <span class="text-gray-600 ml-1">total</span>
                    </div>

                    <!-- Check-in/out Dates -->
                    <div class="grid grid-cols-2 border rounded-t-lg mb-1">
                        <div class="p-3 border-r">
                            <div class="text-xs uppercase font-medium text-gray-500">CHECK-IN</div>
                            <div>3/1/2025</div>
                        </div>
                        <div class="p-3">
                            <div class="text-xs uppercase font-medium text-gray-500">CHECKOUT</div>
                            <div>3/6/2025</div>
                        </div>
                    </div>

                    <!-- Guests Dropdown -->
                    <div class="border rounded-b-lg p-3 mb-4">
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="text-xs uppercase font-medium text-gray-500">GUESTS</div>
                                <div>1 guest</div>
                            </div>
                            <svg class="w-5 h-5 text-gray-800" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 9-7 7-7-7"/>
                            </svg>
                        </div>
                    </div>

                    <!-- Reserve Button -->
                    <button class="w-full bg-rose-500 hover:bg-rose-600 text-white py-3 rounded-lg font-medium mb-4 transition-colors">
                        Reserve
                    </button>

                    <p class="text-center text-gray-600 mb-6">You won't be charged yet</p>

                    <!-- Lower Price Notification -->
                    <div class="border rounded-lg p-4 mb-4">
                        <div class="flex items-start">
                            <div class="text-rose-500 mr-3 mt-1 flex-shrink-0">
                                <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.499 19 5 12.5l1-1M8.5 11.5 11 9l4 4.5m-.5-4.5L19 3.999M14 8.5 16 10"/>
                                </svg>
                            </div>
                            <div>
                                <h3 class="font-medium">Lower price</h3>
                                <p class="text-gray-600 text-sm">Your dates are $51 less than the avg. nightly rate of the last 60 days.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Report Listing Link -->
                    <div class="text-center">
                        <a href="#" class="text-gray-600 hover:underline flex items-center justify-center">
                            <svg class="w-4 h-4 mr-2 text-gray-600" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 7.76a1.76 1.76 0 1 0 0 3.52 1.76 1.76 0 0 0 0-3.52Zm6.24 1.76c0 2.917-3.686 6.614-6.24 8.556-2.554-1.942-6.24-5.64-6.24-8.556a6.24 6.24 0 1 1 12.48 0Z"/>
                            </svg>
                            Report this listing
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

{% endblock content %}

